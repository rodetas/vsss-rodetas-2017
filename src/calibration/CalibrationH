#ifndef CALIBRATION_H_
#define CALIBRATION_H_

#include "../Header.h"
#include "../utils/Commons.h"
#include "../utils/OpenCV.h"
#include "../utils/Timer.h"
#include "../utils/Manipulation.h"
#include "DrawAreaCalibration.h"

#include <gtkmm.h>
#include <thread>
#include <mutex>

using namespace rodetas;

class Calibration : public OpenCV {

private:

	Manipulation manipulation;
	Timer timer;
	int program_state;
	std::mutex mutex;

	bool onKeyboard(GdkEventKey*);
	
	void onMenuRefresh();
	void onButtonHSV();
	void onButtonCAM();
    void onScaleRotate();
    void onScaleHMax();
    void onScaleHMin();
    void onScaleSMax();
    void onScaleSMin();
    void onScaleVMax();
    void onScaleVMin();
    void onScaleCAMBrightness();
	void onScaleCAMContrast();
	void onScaleCAMSaturation();
	void onScaleCAMGain();
	void onScaleCAMSharpness();
	void onScaleCAMExposure();    
	void onChoosePlayer();
	void onRadioButtonImage();
	void onRadioButtonCamera();
	
	void onCutImage();
	void onResetValues();

public:

	Calibration();
	void updateImage();
	void updateDevices();
	void setPopoverCamValues();
};
#endif